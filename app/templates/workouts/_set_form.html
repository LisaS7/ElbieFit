<form hx-post="{{ action_url }}"
    hx-swap="none"
    class="set-form"
    >
    <div class="form-row">
        <!-- Reps -->
        <div class="form-field">
            <label>Reps</label>
            <div class="number-stepper" data-step="1" data-min="1">
                <button type="button" class="stepper-button elevated" data-action="decrement">−</button>
                <input type="number" name="reps" min="1" required value="{{ set.reps if set else '' }}">
                <button type="button" class="stepper-button elevated" data-action="increment">+</button>
            </div>
        </div>

        <!-- Weight -->
        <div class="form-field">
            <label for="weight_kg">Weight ({{ weight_unit|default('kg') }})</label>
            <div class="number-stepper" data-step="0.5" data-min="0">
                <button type="button" class="stepper-button elevated" data-action="decrement">−</button>
                <input type="number" name="weight_kg" step="0.5" min="0" value="{{ set.weight_kg if set else '' }}">
                <button type="button" class="stepper-button elevated" data-action="increment">+</button>
            </div>
        </div>
    </div>

     <!-- RPE -->
    <div class="form-field">
        <label>RPE</label>
        <div class="number-stepper" data-step="1" data-min="1" data-max="10">
            <button type="button" class="stepper-button elevated" data-action="decrement">−</button>
            <input type="number" name="rpe" min="1" max="10" value="{{ set.rpe if set else '' }}">
            <button type="button" class="stepper-button elevated" data-action="increment">+</button>
        </div>
    </div>

    {# keep exercise_id if needed by backend #}
    {% if exercise_id %}
        <input type="hidden" name="exercise_id" value="{{ exercise_id }}">
    {% endif %}

    <div class="form-actions">
        <button type="submit" class="small elevated">{{ submit_label }}</button>

        <button
            type="button"
            class="small elevated"
            hx-on="click: document.closeForm('{{ cancel_target }}')"
        >
            Cancel
        </button>
    </div>
</form>
